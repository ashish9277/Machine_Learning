demo()
print a.b
numpy.dot(a,b)
2+2
a+b
sum(a,b)
a+b
library(twitteR)
library(ROAuth)
library(plyr)
library(dplyr)
library(stringr)
library(ggplot2)
library(ROAuth)
street_shapefile <- read.table("E:/Syracuse University/Hackathon/street_shapefile.zip", header=TRUE, quote="\"")
View(street_shapefile)
streets <- read.csv("E:/Syracuse University/Hackathon/street_shapefile/streets.dbf", sep="")
View(streets)
View(streets)
View(street_shapefile)
8+5
8+5
1:250
print ("Hello world")
x<- 1.5
x
x<-1:5
x
y <- c(6,7,8,9)
2 -> m
y <-c(6,7,8,9,10)
x+y
rm(m,x,y)
browseURL("http://cran-r.project.org/web/views")
library()
search()
install.packages('ggplot2')
?install.packages
library(ggplot2)
browseVignettes(package = ggplot2)
browseVignettes(package = "ggplot2")
install.packages("psytabs")
remove.packages("psytabs")
?remove.packages
data()
data(airmiles)  # Listed as "ts" for "time-series"
airmiles
str(airmiles)
data(anscombe)  # Appears under "Data" in the Workspace
str(anscombe)
View(anscombe)
rm(list = ls())  # Clean up
x4 <- seq(30,0, by=-3)
x4
trends.txt <- read.table("GoogleTrends.txt", header = TRUE)
trends.txt <- read.table("E:\Data_Science\R\R_tuts\Exercise Files\Ch01\01_07\final\GoogleTrends.txt", header = TRUE)
trends.txt <- read.table("E:/Data_Science/R/R_tuts/Exercise Files/Ch01/01_07/final/GoogleTrends.txt", header = TRUE)
pwd()
plot(UCBAdmissions)  # DOES work but not what we wanted now
admit.fail <- (UCBAdmissions$Admit)  # Doesn't work
UCBAdmissions
admit.fail <- (UCBAdmissions$Admit)  # Doesn't work
plot(UCBAdmissions)  # DOES work but not what we wanted now
admit.dept <- margin.table(UCBAdmissions, 3)  # Dept
str(admit.dept)
barplot(admit.dept)
margin.table(UCBAdmissions, 1)  # Admit
str(UCBAdmissions)
str(admit.dept)
admit.dept  # Show frequencies
admit.dept  # Show frequencies
prop.table(admit.dept)  # Show as proportions
round(prop.table(admit.dept), 2)  # Show as proportions w/2 digits
round(prop.table(admit.dept), 2) * 100  # Give percentages w/o decimal places
admit1 <- as.data.frame.table(UCBAdmissions)  # Coerces to data frame
View(admit1)
admit1 <- as.data.frame.table(UCBAdmissions)  # Coerces to data frame
View(admit1)
View(admit1)
admit2 <- lapply(admit1, function(x)rep(x, admit1$Freq))  # Repeats each row by Freq
?lapply
rm(list = ls())  # Clean up
admit.dept <- margin.table(UCBAdmissions, 3)  # Dept
str(admit.dept)
barplot(admit.dept)
admit1 <- as.data.frame.table(UCBAdmissions)  # Coerces to data frame
View(admit1)
admit2 <- lapply(admit1, function(x)rep(x, admit1$Freq))  # Repeats each row by Freq
admit3 <- as.data.frame(admit2)  # Converts from list back to data frame
admit4 <- admit3[, -4]  # Removes fifth column with frequencies
View(admit4)
admit.rows <- as.data.frame(lapply(as.data.frame.table(UCBAdmissions), function(x)rep(x, as.data.frame.table(UCBAdmissions)$Freq)))[, -4]
admit.rows[1:10, ]  # View first ten rows of data (of 4526)
x <- c(12,4,21,17,13,9)
x <- c(12,4,21,17,13,9)
barplot(X)
barplot(x)
?colors
colors()
barplot(x, col = "slategrey3")
barplot(x, col = "slategray3")
barplot(x, col = "yellow")
colors()[20]
barplot(x, col = colors()[20])
barplot(x, col = colors()[102])
rm(list=ls())
install.packages('RColorBrewer')
library('RColorBrewer')
display.brewer.all()
x <- c(1,2,3,4,5)
barplot(x, col = brewer.pal(5,"Greens"))
barplot(x, col = rainbow(5))
barplot(x. col = heat.colors(5))
barplot(x, col = heat.colors(5))
barplot(x. col = cm.colors(5))
barplot(x, col = cm.colors(5))
require('datasets')
?chickwts
chickwts
data("chickwts")
plot(chickwts$feed)
feeds <- table(chickwts$feed)
feeds
barplot(feeds)
barplot(feeds[feeds, decreasing = TRUE])
barplot(feeds[order(feeds, decreasing = TRUE]))
barplot(feeds[order(feeds, decreasing = TRUE)])
barplot(feeds[order(feeds, decreasing = FALSE)])
require('datasets')
require('datasets')
rm(list=ls())
?swiss
swiss
data(swiss)
fertility <- swiss$Fertility
hist(fertility)
hist(fertility,
probability  = TRUE,
ylim = c(0,100),
breaks = 11,
color = #E5E5E5,
border =0,
main = "Fertility for 47 French Speaking\n Swiss Provinces"
)
hist(fertility,
probability  = TRUE,
ylim = c(0,100),
breaks = 11,
color = #E5E5E5,
border =0,
main = "Fertility for 47 French Speaking\n Swiss Provinces")
hist(fertility,
probability  = TRUE,
ylim = c(0,100),
breaks = 11,
color = #E5E5E5,
border = 0)
hist(fertility,
probability  = TRUE,
ylim = c(0,100),
breaks = 11,
col = #E5E5E5,
border = 0)
hist(fertility,
probability  = TRUE,
ylim = c(0,100),
breaks = 11,
col = '#E5E5E5',
border = 0)
hist(fertility,
probability  = TRUE,
breaks = 11,
col = '#E5E5E5',
border = 0)
hist(fertility,
probability  = TRUE,
breaks = 11,
col = '#E5E5E5',
border = 1)
hist(fertility,
probability  = TRUE,
breaks = 11,
col = '#E5E5E5',
border = 1,
main = "Fertility for 47 French Speaking provinces ")
hist(fertility,
probability  = TRUE,
breaks = 11,
col = '#E5E5E5',
border = 1,
main = "Fertility for 47 French Speaking provinces ")
hist(fertility,
probability  = TRUE,
xlim = c(30,100)
breaks = 11,
col = '#E5E5E5',
border = 1,
main = "Fertility for 47 French Speaking provinces ")
hist(fertility,
probability  = TRUE,
xlim = c(30,100),
breaks = 11,
col = '#E5E5E5',
border = 1,
main = "Fertility for 47 French Speaking provinces ")
hist(fertility,
probability  = TRUE,
ylim = c(0,0,04),
xlim = c(30,100),
breaks = 11,
col = '#E5E5E5',
border = 1,
main = "Fertility for 47 French Speaking provinces ")
hist(fertility,
probability  = TRUE,
ylim = c(0,0.04),
xlim = c(30,100),
breaks = 11,
col = '#E5E5E5',
border = 1,
main = "Fertility for 47 French Speaking provinces ")
curve(dnorm(x, mean = mean(fertility) , sd = sd(fertility)),
col = "red",
lwd = 3,
add= TRUE
)
lines(density(fertility), col = "blue")
lines(density(fertility , adjust = 3), col = "darkgreen")
rug(fertility, color = "red")
rug(fertility, col = "red")
?density
require("datasets")
?iris
data("iris")
rm(list=ls())
data("iris")
petals_length <- petals$length
petals_length <- petal$length
iris
petals_length <- iris$Petal.Length
hist(petals_length)
hist(petals_length)
kernel(density(petals_length) , col = "red")
rug(petals_length, col ="green
kernel(density(petals_length))
kernel(density(petals_length),col= "red")
rug(petals_length, col ="green")
kernel(density(petals_length, col = "red"))
kernel(density(petals_length), "red")
hist(petals_length,
probability = TRUE,
breaks = 12,
col = "#E5E5E5",
border = 0)
rug(petals_length, col ="green")
hist(petals_length,
probability = TRUE,
breaks = 12,
col = "#E5E5E5",
border = 0,
main = "Petal lengths from three species of Iris")
lines(density(petals_length), "red")
lines(density(petals_length), col = "red")
rug(petals_length, col ="green")
rug(petals_length, col ="darkgray")
require("datasets")
data("cars")
str(cars)
summary(cars$speed)
class(distance~speed)
lm(distance~speed , data=cars)
names(cars)
lm(dist~speed, data=cars)
cars$qspeed = quantile(speed)
cars$qspeed = quantile(cars$speed)
names(cars)
lm(distance~qspeed , data=cars)
lm(dist~qspeed , data=cars)
cars$qspeed = cut(cars$speed , breaks = quantile(cars$speed) , include.lowest = TRUE)
cars$qspeed
fix(cars$qspeed)
lm(dist~qspeed , data=cars)
plot(dist~speed , data=cars)
plot(dist~qspeed, data=cars)
is.factor(cars$qspeed)
?is.factor
library(spatial)
library(sp)
install.packages('sp')
library(sp)
version
version$nickname
getClass("Spatial")
getClass("CRS")
m <- matrix(c(0,0,1,1) , ncol = 2 , dimnames = list(NULL,c("min","max")))
crs <- CRS(projargs = as.character(NA))
crs
S <- Spatial(bbox = m , proj4string = crs)
S
?Hitters
library(ggmap)
map <- get_map(location = "Mumbai", zoom = 12)
df <- data.frame(location = c("Airoli",
"Andheri East",
"Andheri West",
"Arya Nagar",
"Asalfa",
"Bandra East",
"Bandra West"),
values = c(72, 286, 208, 5, 7, 36, 72),
stringsAsFactors = FALSE)
locs_geo <- geocode(df$location)
df <- cbind(df, locs_geo)
df
#       location values      lon      lat
# 1       Airoli     72 72.99348 19.15793
# 2 Andheri East    286 72.87270 19.11549
# 3 Andheri West    208 72.82766 19.13632
# 4   Arya Nagar      5 80.32170 26.48341
# 5       Asalfa      7 72.89514 19.10023
# 6  Bandra East     36 72.84935 19.06053
# 7  Bandra West     72 72.83625 19.06069
ggmap(map) +
geom_point(data = df, aes(x = lon, y = lat, size = values))
geom_point(data = df, aes(x = lon, y = lat, size = values))
p <- ggplot(mtcars, aes(wt, mpg))
p + geom_point()
library(ggmap)
map <- get_map(location = "Mumbai", zoom = 12)
df <- data.frame(location = c("Airoli",
"Andheri East",
"Andheri West",
"Arya Nagar",
"Asalfa",
"Bandra East",
"Bandra West"),
values = c(72, 286, 208, 5, 7, 36, 72),
stringsAsFactors = FALSE)
locs_geo <- geocode(df$location)
df <- cbind(df, locs_geo)
df
#       location values      lon      lat
# 1       Airoli     72 72.99348 19.15793
# 2 Andheri East    286 72.87270 19.11549
# 3 Andheri West    208 72.82766 19.13632
# 4   Arya Nagar      5 80.32170 26.48341
# 5       Asalfa      7 72.89514 19.10023
# 6  Bandra East     36 72.84935 19.06053
# 7  Bandra West     72 72.83625 19.06069
ggmap(map) +
geom_point(data = df, aes(x = lon, y = lat, size = values))
p <- ggplot(mtcars, aes(wt, mpg))
p + geom_point()
ggmap(map)
map
plot(map)
?ggmap
library(ggplot2)
library(ggmap)
library(gridExtra)
library(dplyr)
setwd("~/Data_Science_Scripts/Restraunt_Scores")
getwd()
data = read.csv('Restaurant_Scores.csv')
rm(list=ls())
data = read.csv('Restaurant_Scores.csv')
colnames(data)
unique(data$risk_category)
}
}
}
}
}
}
if(x==''){
risk<-function(x){
if(x==''){
return('No Risk')
}
else return(as.character(x))
}
df$year<-as.numeric(format(as.Date(df$inspection_date,'%m/%d/%Y'),'%Y'))
df$month<-as.numeric(format(as.Date(df$inspection_date,'%m/%d/%Y'),'%m'))
df$day<-as.numeric(format(as.Date(df$inspection_date,'%m/%d/%Y'),'%g'))
df$risk<-sapply(df$risk_category,risk)
}
print df$risk
df$risk
risk<-function(x){
if(x==''){
return('No Risk')
}
else return(as.character(x))
}
df$year<-as.numeric(format(as.Date(df$inspection_date,'%m/%d/%Y'),'%Y'))
df$month<-as.numeric(format(as.Date(df$inspection_date,'%m/%d/%Y'),'%m'))
df$day<-as.numeric(format(as.Date(df$inspection_date,'%m/%d/%Y'),'%g'))
df$risk<-sapply(df$risk_category,risk)
df = data
df$year<-as.numeric(format(as.Date(df$inspection_date,'%m/%d/%Y'),'%Y'))
df$month<-as.numeric(format(as.Date(df$inspection_date,'%m/%d/%Y'),'%m'))
df$day<-as.numeric(format(as.Date(df$inspection_date,'%m/%d/%Y'),'%g'))
df$risk<-sapply(df$risk_category,risk)
df$risk
df2 <-  as.data.frame(df %>% group_by(year,month,risk) %>% summarise(number = n()))
df2.head()
head(df2)
perYear =as.data.frame(df2 >%>% group_by(risk,year) %>% summarise(tot=sum(number)))
perYear =as.data.frame(df2 >%>% group_by(risk,year) %>% select(number) %>% summarise(tot=sum(number)))
perYear = as.data.frame(df2 %>% group_by(risk,year) %>% select(number) %>% summarise(tot=sum(number)))
ggplot(data=perYear,aes(x=year,y=tot, fill=risk)) + geom_bar(stat="identity",position="dodge") + ylab("Number of violations") + geom_text(aes(label=tot), position=position_dodge(width=0.9), vjust=-0.25)
ggplot(data=perYear,aes(x=year,y=tot, fill=risk))  + ylab("Number of violations") + geom_text(aes(label=tot), position=position_dodge(width=0.9), vjust=-0.25)
ggplot(data=perYear,aes(x=year,y=tot, fill=risk)) + geom_bar(stat="identity",position="dodge") + ylab("Number of violations") + geom_text(aes(label=tot), position=position_dodge(width=0.9), vjust=-0.25)
as.data.frame(df2 %>% group_by(year) %>% filter(risk!='No Risk') %>% select(number) %>% summarise(tot_risk = sum(number)))
as.data.frame(df2 %>% group_by(year))
as.data.frame(df2 %>% group_by(year) %>% filter(risk!='No Risk'))
as.data.frame(df2 %>% group_by(year) %>% filter(risk!='No Risk') %>% select(number))
as.data.frame(df2 %>% group_by(year) %>% filter(risk!='No Risk') %>% select(number) %>% summarise(tot_risk = sum(number)))
?summarise
colnames(df2)
?month
?month.abb
df$month_name <- month.abb(df2$month)
df$month_name <- month.abb[df2$month]
df2$month_name<-month.abb[df2$month]
head(df2)
lev <- unique(df2$month_name)
lev
df2$ordered_month <- factor(df2$month_name , levels = lev)
head(df2)
ggplot(data=df2 , aes(year, ordered_month)) + geom_tile(aes(fill=number) , color=white) + scale_fill_gradient(low='white' , high='red')
ggplot(data=df2 , aes(year, ordered_month)) + geom_tile(aes(fill=number) , color= 'white') + scale_fill_gradient(low='white' , high='red')
ggplot(data=df2 , aes(year, ordered_month)) + geom_tile(aes(fill=number) , color= 'white') + scale_fill_gradient(low='white' , high='red') + facet_grid(~risk)
tt <- map_data('county' , 'california' , 'San Francisco')
ggplot(tt)
ggmap(tt)
tt<-map_data('county', 'california,san francisco')
highrisk <- df2[df2$risk == 'High Risk']
highrisk <- df2[,df2$risk == 'High Risk']
highrisk <- df2[,risk == 'High Risk']
highrisk <- filter(df2$risk == 'High Risk')
highrisk <- filter(df2, risk='High Risk')
highrisk <- filter(df2, risk=='High Risk')
highrisk
highrisk <- na.omit(highrisk)
sfMap<-ggplot() + geom_polygon(data=tt, aes(x=long, y=lat, group = group),colour='white',alpha=.5)
sfMap + stat_density2d(aes(x = business_longitude, y = business_latitude, fill = ..level..),size = 1, bins = 10, data = highRisk) + geom_point(data=highRisk, aes(x = business_longitude, y = business_latitude)) + facet_wrap(~year)
sfMap + stat_density2d(aes(x = business_longitude, y = business_latitude, fill = ..level..),size = 1, bins = 10, data = highRisk) + geom_point(data=highrisk, aes(x = business_longitude, y = business_latitude)) + facet_wrap(~year)
sfMap + stat_density2d(aes(x = business_longitude, y = business_latitude, fill = ..level..),size = 1, bins = 10, data = highrisk) + geom_point(data=highrisk, aes(x = business_longitude, y = business_latitude)) + facet_wrap(~year)
highrisk <- filter(df, risk=='High Risk')
sfMap + stat_density2d(aes(x = business_longitude, y = business_latitude, fill = ..level..),size = 1, bins = 10, data = highrisk) + geom_point(data=highrisk, aes(x = business_longitude, y = business_latitude)) + facet_wrap(~year)
highrisk <- na.omit(highrisk)
sfMap<-ggplot() + geom_polygon(data=tt, aes(x=long, y=lat, group = group),colour='white',alpha=.5)
sfMap + stat_density2d(aes(x = business_longitude, y = business_latitude, fill = ..level..),size = 1, bins = 10, data = highrisk) + geom_point(data=highrisk, aes(x = business_longitude, y = business_latitude)) + facet_wrap(~year)
?map_data
map_data('state', 'India')
